suite: test maildev
#templates:
tests:
  - it: should render
    asserts:
      - template: deployment.yaml
        isKind:
          of: Deployment
      - template: deployment.yaml
        hasDocuments:
          count: 1
      - template: deployment.yaml
        matchSnapshot:
          path: spec
      - template: deployment.yaml
        matchSnapshot:
          path: spec
      - template: deployment.yaml
        matchSnapshot:
          path: spec
  - it: custom resources
    values:
      - values-resources.yaml
    asserts:
      - template: deployment.yaml
        matchSnapshot:
          path: spec.template.spec.containers[0].resources
  - it: custom tag
    values:
      - values-tag.yaml
    asserts:
      - template: deployment.yaml
        matchSnapshot:
          path: spec.template.spec.containers[0].image
